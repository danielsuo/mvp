{% extends "layouts/main.html" %}

{% block head %}{% endblock %}

{% block body %}
  
  <div class="show-page">

    <header>
      <h1>{{ organization.name }}</h1>
      <table>
        <tr>
          <td>Owner</td> <td>{{ organization.owner }}</td>
        </tr>
        <tr>
          <td>Address</td> <td>{{ organization.address }}</td>
        </tr>
      </table>
    </header>

    <div class="flex-row">
      <div>
        <h2>Buildings</h2>
        <a href='buildings/new'>Add new</a>

        <table>
          <tr>
            <th>Name</th>
            <th>Address</th>
          </tr>
          {% for building in organization.buildings %}
            <tr>
              <td><a href='/buildings/{{ building._id }}'>{{ building.name }}</a></td>
              <td>{{ organization.address }}</td>
            </tr>
          {% endfor %}
        </table>
      </div>

      <div>
        <h2>Users</h2>
        <a href='users/new'>Add new</a>

        <table>
          <tr>
            <th>Name</th>
            <th>Role</th>
            <th>Email</th>
          </tr>
          {% for user in organization.users %}
            <tr>
              <td><a href='/users/{{ user._id }}'>{{ user.name }}</a></td>
              <td>{{ user.role }}</td>
              <td>{{ user.email }}</td>
            </tr>
          {% endfor %}
        </table>
      </div>
    </div>

  </div>

{% endblock %}